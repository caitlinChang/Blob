### 性能优化

前端的性能优化大体上分两个层面，加载中和运行时；
加载中的情况一般都是首屏资源加载；

`名词解释`

1. TTI：从资源加载到首次用户可交互的时间

#### 首屏资源加载

首屏加载优化，要根据具体的情况来分析；

##### 1. 信息收集

首先就是要分析一下我们产品的用户群，看看他们使用产品的硬件设备占比和网络情况；

##### 2. 模拟线上

问题：这里的硬件设备具体指什么，怎么模拟？？？
得到硬件配置、网络这些信息后，我们就可以在本地模拟用户的使用环境；

##### 3. 分析

通过 performance 面板分析首页加载的情况，可以看到时间主要是花在什么上面了

1. 加载
   - 如果是加载耗时较长，那就可能是
     a. 资源过大，加载慢
     b. 服务器响应慢、CDN 响应慢
     c. 处理的方案可能就是重新分配 CDN 资源，或者是缓存
2. 解析和执行 JS
   - 如果是解析执行 JS 逻辑耗时较长，那也可能是 JS 资源过大,首页加载了太多 JS 资源，需要执行太多逻辑了
     a. 可以通过网络面板查看看是哪些文件资源的解析时间长
     b. 然后通过**分析打包后的模块组成结构**，来看看这个大文件里是不是有些模块可以拆出来，这就是减包
     c.
   - 某段 JS 逻辑比较耗时, timeline 中有长任务
     a.
     b.
     c.
3. 渲染
4. 绘图
   - 如果是渲染和绘图时间长
     a. 可能是触发了多次回流和重绘
     b. 可能是页面的 DOM 结构太多，考虑只渲染可视区域的 DOM
